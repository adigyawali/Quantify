{"ast":null,"code":"var _jsxFileName = \"/Users/adigyawali/Documents/Projects/StocksApp/client/src/pages/Dashboard/dashboard.js\",\n  _s = $RefreshSig$();\n// pages/Dashboard/dashboard.js\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from 'axios';\nimport { Plus, Minus, Search, TrendingUp, TrendingDown } from \"lucide-react\";\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } from 'recharts';\nimport \"./dashboard.css\";\n\n// Configure axios\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst api = axios.create({\n  baseURL: \"http://127.0.0.1:5000\"\n});\nfunction Dashboard({\n  username\n}) {\n  _s();\n  var _portfolioData$holdin, _portfolioData$holdin2;\n  const navigate = useNavigate();\n  const [portfolioData, setPortfolioData] = useState({\n    total_value: 0,\n    total_cost: 0,\n    overall_gain_loss: 0,\n    overall_gain_loss_percent: 0,\n    holdings: []\n  });\n  const [loading, setLoading] = useState(true);\n  const [activePage, setActivePage] = useState(\"portfolio\"); // portfolio | history | watchlist\n  const [searchTicker, setSearchTicker] = useState(\"\");\n  const [transactionTicker, setTransactionTicker] = useState(\"\");\n  const [transactionType, setTransactionType] = useState(\"buy\"); // \"buy\" or \"sell\"\n  const [transactionQuantity, setTransactionQuantity] = useState(1);\n  const [transactionPrice, setTransactionPrice] = useState(0);\n  const [showModal, setShowModal] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [selectedStock, setSelectedStock] = useState(null);\n  const [stockHistory, setStockHistory] = useState([]);\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    if (!token) {\n      navigate(\"/login\");\n      return;\n    }\n    fetchPortfolio();\n  }, [navigate]);\n  const fetchPortfolio = async () => {\n    const token = localStorage.getItem(\"token\");\n    try {\n      const res = await api.get(\"/portfolio\", {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setPortfolioData(res.data);\n      setLoading(false);\n    } catch (err) {\n      var _err$response;\n      console.error(err);\n      if (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status) === 401) navigate(\"/login\");\n      setLoading(false);\n    }\n  };\n  const handleSearch = async e => {\n    e.preventDefault();\n    if (!searchTicker) return;\n\n    // Pre-fill modal with searched ticker\n    openTransactionModal(searchTicker.toUpperCase(), \"buy\");\n  };\n  const openTransactionModal = (ticker, type) => {\n    setTransactionTicker(ticker);\n    setTransactionType(type);\n    setTransactionQuantity(1);\n\n    // Ideally fetch current price here\n    // For now, user enters price or we could fetch it\n    fetchCurrentPrice(ticker);\n    setShowModal(true);\n    setError(\"\");\n  };\n  const fetchCurrentPrice = async ticker => {\n    // Reuse the Finnhub proxy via our backend or just ask user\n    // For this prototype, we'll ask user but try to pre-fill if possible\n    // Simplified: User inputs price\n    setTransactionPrice(0);\n  };\n  const handleTransaction = async () => {\n    const token = localStorage.getItem(\"token\");\n    const endpoint = transactionType === \"buy\" ? \"/portfolio/add\" : \"/portfolio/remove\";\n    try {\n      await api.post(endpoint, {\n        ticker: transactionTicker,\n        quantity: parseInt(transactionQuantity),\n        price: parseFloat(transactionPrice)\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setShowModal(false);\n      fetchPortfolio();\n      setSearchTicker(\"\");\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      setError(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || \"Transaction failed\");\n    }\n  };\n  const selectStock = async ticker => {\n    if (selectedStock === ticker) {\n      setSelectedStock(null);\n      setStockHistory([]);\n      return;\n    }\n    setSelectedStock(ticker);\n    setStockHistory([]); // Clear previous data while loading\n\n    try {\n      const res = await api.get(`/stock/${ticker}/history`);\n      // Transform for recharts if needed, but backend sends { date, price } which works if we map keys\n      // Our backend sends [{ date: \"MM/DD\", price: 123.45 }, ...]\n      // Recharts expects dataKey=\"price\" (value) and label=\"date\" (name)\n\n      const formattedData = res.data.map(item => ({\n        name: item.date,\n        value: item.price\n      }));\n      setStockHistory(formattedData);\n    } catch (err) {\n      console.error(\"Failed to fetch history\", err);\n      // Fallback or empty\n      setStockHistory([]);\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loading\",\n    children: \"Loading Dashboard...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 136,\n    columnNumber: 25\n  }, this);\n\n  // Safeguard numerical values to prevent runtime crashes\n  const totalValue = Number((portfolioData === null || portfolioData === void 0 ? void 0 : portfolioData.total_value) || 0);\n  const totalCost = Number((portfolioData === null || portfolioData === void 0 ? void 0 : portfolioData.total_cost) || 0);\n  const gainLoss = Number((portfolioData === null || portfolioData === void 0 ? void 0 : portfolioData.overall_gain_loss) || 0);\n  const gainLossPercent = Number((portfolioData === null || portfolioData === void 0 ? void 0 : portfolioData.overall_gain_loss_percent) || 0);\n  const formatMoney = (value = 0) => Number(value || 0).toFixed(2);\n  const formatPercent = (value = 0) => Number(value || 0).toFixed(2);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-header\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\"Welcome, \", username]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-nav\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: activePage === \"portfolio\" ? \"nav-btn active\" : \"nav-btn\",\n          onClick: () => setActivePage(\"portfolio\"),\n          children: \"Portfolio\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: activePage === \"history\" ? \"nav-btn active\" : \"nav-btn\",\n          onClick: () => setActivePage(\"history\"),\n          children: \"Search History\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: activePage === \"watchlist\" ? \"nav-btn active\" : \"nav-btn\",\n          onClick: () => setActivePage(\"watchlist\"),\n          children: \"Watchlist\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 17\n      }, this), activePage === \"portfolio\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSearch,\n          className: \"portfolio-search\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"search-wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(Search, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Search ticker to add...\",\n              value: searchTicker,\n              onChange: e => setSearchTicker(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Add Stock\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"portfolio-summary-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Total Portfolio Value\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"value-display\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"currency\",\n              children: \"$\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"amount\",\n              children: totalValue.toLocaleString(undefined, {\n                minimumFractionDigits: 2,\n                maximumFractionDigits: 2\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `pnl-indicator ${gainLoss >= 0 ? 'positive' : 'negative'}`,\n            children: [gainLoss >= 0 ? /*#__PURE__*/_jsxDEV(TrendingUp, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 50\n            }, this) : /*#__PURE__*/_jsxDEV(TrendingDown, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 77\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"pnl-amount\",\n              children: [gainLoss >= 0 ? '+' : '', \"$\", Math.abs(gainLoss).toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"pnl-percent\",\n              children: [\"(\", gainLossPercent.toFixed(2), \"%)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"portfolio-graph\",\n            children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n              width: \"100%\",\n              height: 200,\n              children: /*#__PURE__*/_jsxDEV(LineChart, {\n                data: [{\n                  name: 'Start',\n                  value: totalCost\n                }, {\n                  name: 'Now',\n                  value: totalValue\n                }],\n                children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                  strokeDasharray: \"3 3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                  dataKey: \"name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(YAxis, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(Line, {\n                  type: \"monotone\",\n                  dataKey: \"value\",\n                  stroke: \"#8884d8\",\n                  strokeWidth: 2\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"holdings-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Your Holdings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"holdings-grid\",\n            children: [portfolioData === null || portfolioData === void 0 ? void 0 : (_portfolioData$holdin = portfolioData.holdings) === null || _portfolioData$holdin === void 0 ? void 0 : _portfolioData$holdin.map(stock => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `holding-card ${selectedStock === stock.ticker ? 'selected' : ''}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"holding-header\",\n                onClick: () => selectStock(stock.ticker),\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"ticker-info\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    children: stock.ticker\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 236,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"shares\",\n                    children: [stock.quantity, \" shares\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 237,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 235,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"price-info\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"current-val\",\n                    children: [\"$\", formatMoney(stock.market_value)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 240,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `stock-pnl ${stock.gain_loss >= 0 ? 'green' : 'red'}`,\n                    children: [stock.gain_loss >= 0 ? '+' : '', formatMoney(stock.gain_loss), \" (\", formatPercent(stock.gain_loss_percent), \"%)\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 241,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 41\n              }, this), selectedStock === stock.ticker && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"holding-details\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mini-graph\",\n                  children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n                    width: \"100%\",\n                    height: 100,\n                    children: /*#__PURE__*/_jsxDEV(LineChart, {\n                      data: stockHistory,\n                      children: /*#__PURE__*/_jsxDEV(Line, {\n                        type: \"monotone\",\n                        dataKey: \"value\",\n                        stroke: \"#82ca9d\",\n                        dot: false\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 253,\n                        columnNumber: 61\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 252,\n                      columnNumber: 57\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 251,\n                    columnNumber: 53\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"holding-actions\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn-buy\",\n                    onClick: () => openTransactionModal(stock.ticker, \"buy\"),\n                    children: [/*#__PURE__*/_jsxDEV(Plus, {\n                      size: 16\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 259,\n                      columnNumber: 57\n                    }, this), \" Buy More\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 258,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn-sell\",\n                    onClick: () => openTransactionModal(stock.ticker, \"sell\"),\n                    children: [/*#__PURE__*/_jsxDEV(Minus, {\n                      size: 16\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 262,\n                      columnNumber: 57\n                    }, this), \" Sell\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 261,\n                    columnNumber: 53\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 45\n              }, this)]\n            }, stock.ticker, true, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 37\n            }, this)), (portfolioData === null || portfolioData === void 0 ? void 0 : (_portfolioData$holdin2 = portfolioData.holdings) === null || _portfolioData$holdin2 === void 0 ? void 0 : _portfolioData$holdin2.length) === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"empty-portfolio\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"You don't own any stocks yet. Search above to get started!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true), activePage === \"history\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"placeholder-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Search History\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Your recent ticker lookups will appear here.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 21\n      }, this), activePage === \"watchlist\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"placeholder-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Watchlist\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Add tickers you want to keep an eye on.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }, this), showModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [transactionType === 'buy' ? 'Buy' : 'Sell', \" \", transactionTicker]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 25\n        }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error-text\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 35\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Quantity\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            min: \"1\",\n            value: transactionQuantity,\n            onChange: e => setTransactionQuantity(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Price per Share ($)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            step: \"0.01\",\n            value: transactionPrice,\n            onChange: e => setTransactionPrice(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"cancel-btn\",\n            onClick: () => setShowModal(false),\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `confirm-btn ${transactionType}`,\n            onClick: handleTransaction,\n            children: [\"Confirm \", transactionType === 'buy' ? 'Purchase' : 'Sale']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 147,\n    columnNumber: 9\n  }, this);\n}\n_s(Dashboard, \"QbPW0wSxNl5l9ClWENe9Fi5nRCY=\", false, function () {\n  return [useNavigate];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","axios","Plus","Minus","Search","TrendingUp","TrendingDown","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","ResponsiveContainer","jsxDEV","_jsxDEV","Fragment","_Fragment","api","create","baseURL","Dashboard","username","_s","_portfolioData$holdin","_portfolioData$holdin2","navigate","portfolioData","setPortfolioData","total_value","total_cost","overall_gain_loss","overall_gain_loss_percent","holdings","loading","setLoading","activePage","setActivePage","searchTicker","setSearchTicker","transactionTicker","setTransactionTicker","transactionType","setTransactionType","transactionQuantity","setTransactionQuantity","transactionPrice","setTransactionPrice","showModal","setShowModal","error","setError","selectedStock","setSelectedStock","stockHistory","setStockHistory","token","localStorage","getItem","fetchPortfolio","res","get","headers","Authorization","data","err","_err$response","console","response","status","handleSearch","e","preventDefault","openTransactionModal","toUpperCase","ticker","type","fetchCurrentPrice","handleTransaction","endpoint","post","quantity","parseInt","price","parseFloat","_err$response2","_err$response2$data","message","selectStock","formattedData","map","item","name","date","value","className","children","fileName","_jsxFileName","lineNumber","columnNumber","totalValue","Number","totalCost","gainLoss","gainLossPercent","formatMoney","toFixed","formatPercent","onClick","onSubmit","size","placeholder","onChange","target","toLocaleString","undefined","minimumFractionDigits","maximumFractionDigits","Math","abs","width","height","strokeDasharray","dataKey","stroke","strokeWidth","stock","market_value","gain_loss","gain_loss_percent","dot","length","min","step","_c","$RefreshReg$"],"sources":["/Users/adigyawali/Documents/Projects/StocksApp/client/src/pages/Dashboard/dashboard.js"],"sourcesContent":["// pages/Dashboard/dashboard.js\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from 'axios';\nimport { Plus, Minus, Search, TrendingUp, TrendingDown } from \"lucide-react\";\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } from 'recharts';\nimport \"./dashboard.css\";\n\n// Configure axios\nconst api = axios.create({\n    baseURL: \"http://127.0.0.1:5000\"\n});\n\nfunction Dashboard({ username }) {\n    const navigate = useNavigate();\n    const [portfolioData, setPortfolioData] = useState({\n        total_value: 0,\n        total_cost: 0,\n        overall_gain_loss: 0,\n        overall_gain_loss_percent: 0,\n        holdings: []\n    });\n    const [loading, setLoading] = useState(true);\n    const [activePage, setActivePage] = useState(\"portfolio\"); // portfolio | history | watchlist\n    const [searchTicker, setSearchTicker] = useState(\"\");\n    const [transactionTicker, setTransactionTicker] = useState(\"\");\n    const [transactionType, setTransactionType] = useState(\"buy\"); // \"buy\" or \"sell\"\n    const [transactionQuantity, setTransactionQuantity] = useState(1);\n    const [transactionPrice, setTransactionPrice] = useState(0);\n    const [showModal, setShowModal] = useState(false);\n    const [error, setError] = useState(\"\");\n    const [selectedStock, setSelectedStock] = useState(null);\n    const [stockHistory, setStockHistory] = useState([]);\n\n    useEffect(() => {\n        const token = localStorage.getItem(\"token\");\n        if (!token) {\n            navigate(\"/login\");\n            return;\n        }\n        fetchPortfolio();\n    }, [navigate]);\n\n    const fetchPortfolio = async () => {\n        const token = localStorage.getItem(\"token\");\n        try {\n            const res = await api.get(\"/portfolio\", {\n                headers: { Authorization: `Bearer ${token}` }\n            });\n            setPortfolioData(res.data);\n            setLoading(false);\n        } catch (err) {\n            console.error(err);\n            if (err.response?.status === 401) navigate(\"/login\");\n            setLoading(false);\n        }\n    };\n\n    const handleSearch = async (e) => {\n        e.preventDefault();\n        if (!searchTicker) return;\n        \n        // Pre-fill modal with searched ticker\n        openTransactionModal(searchTicker.toUpperCase(), \"buy\");\n    };\n\n    const openTransactionModal = (ticker, type) => {\n        setTransactionTicker(ticker);\n        setTransactionType(type);\n        setTransactionQuantity(1);\n        \n        // Ideally fetch current price here\n        // For now, user enters price or we could fetch it\n        fetchCurrentPrice(ticker);\n        \n        setShowModal(true);\n        setError(\"\");\n    };\n\n    const fetchCurrentPrice = async (ticker) => {\n        // Reuse the Finnhub proxy via our backend or just ask user\n        // For this prototype, we'll ask user but try to pre-fill if possible\n        // Simplified: User inputs price\n        setTransactionPrice(0); \n    };\n\n    const handleTransaction = async () => {\n        const token = localStorage.getItem(\"token\");\n        const endpoint = transactionType === \"buy\" ? \"/portfolio/add\" : \"/portfolio/remove\";\n        \n        try {\n            await api.post(endpoint, {\n                ticker: transactionTicker,\n                quantity: parseInt(transactionQuantity),\n                price: parseFloat(transactionPrice)\n            }, {\n                headers: { Authorization: `Bearer ${token}` }\n            });\n            \n            setShowModal(false);\n            fetchPortfolio();\n            setSearchTicker(\"\");\n        } catch (err) {\n            setError(err.response?.data?.message || \"Transaction failed\");\n        }\n    };\n\n    const selectStock = async (ticker) => {\n        if (selectedStock === ticker) {\n            setSelectedStock(null);\n            setStockHistory([]);\n            return;\n        }\n        \n        setSelectedStock(ticker);\n        setStockHistory([]); // Clear previous data while loading\n\n        try {\n            const res = await api.get(`/stock/${ticker}/history`);\n            // Transform for recharts if needed, but backend sends { date, price } which works if we map keys\n            // Our backend sends [{ date: \"MM/DD\", price: 123.45 }, ...]\n            // Recharts expects dataKey=\"price\" (value) and label=\"date\" (name)\n            \n            const formattedData = res.data.map(item => ({\n                name: item.date,\n                value: item.price\n            }));\n            setStockHistory(formattedData);\n        } catch (err) {\n            console.error(\"Failed to fetch history\", err);\n            // Fallback or empty\n            setStockHistory([]);\n        }\n    };\n\n    if (loading) return <div className=\"loading\">Loading Dashboard...</div>;\n    \n    // Safeguard numerical values to prevent runtime crashes\n    const totalValue = Number(portfolioData?.total_value || 0);\n    const totalCost = Number(portfolioData?.total_cost || 0);\n    const gainLoss = Number(portfolioData?.overall_gain_loss || 0);\n    const gainLossPercent = Number(portfolioData?.overall_gain_loss_percent || 0);\n    const formatMoney = (value = 0) => Number(value || 0).toFixed(2);\n    const formatPercent = (value = 0) => Number(value || 0).toFixed(2);\n\n    return (\n        <div className=\"dashboard-container\">\n            <div className=\"dashboard-content\">\n                <div className=\"dashboard-header\">\n                    <h1>Welcome, {username}</h1>\n                </div>\n\n                {/* Dashboard navigation */}\n                <div className=\"dashboard-nav\">\n                    <button\n                        className={activePage === \"portfolio\" ? \"nav-btn active\" : \"nav-btn\"}\n                        onClick={() => setActivePage(\"portfolio\")}\n                    >\n                        Portfolio\n                    </button>\n                    <button\n                        className={activePage === \"history\" ? \"nav-btn active\" : \"nav-btn\"}\n                        onClick={() => setActivePage(\"history\")}\n                    >\n                        Search History\n                    </button>\n                    <button\n                        className={activePage === \"watchlist\" ? \"nav-btn active\" : \"nav-btn\"}\n                        onClick={() => setActivePage(\"watchlist\")}\n                    >\n                        Watchlist\n                    </button>\n                </div>\n\n                {/* Portfolio Page */}\n                {activePage === \"portfolio\" && (\n                    <>\n                        {/* Search Bar */}\n                        <form onSubmit={handleSearch} className=\"portfolio-search\">\n                            <div className=\"search-wrapper\">\n                                <Search size={20} />\n                                <input\n                                    type=\"text\"\n                                    placeholder=\"Search ticker to add...\"\n                                    value={searchTicker}\n                                    onChange={(e) => setSearchTicker(e.target.value)}\n                                />\n                            </div>\n                            <button type=\"submit\">Add Stock</button>\n                        </form>\n\n                        {/* Portfolio Summary */}\n                        <div className=\"portfolio-summary-card\">\n                            <h2>Total Portfolio Value</h2>\n                            <div className=\"value-display\">\n                                <span className=\"currency\">$</span>\n                                <span className=\"amount\">{totalValue.toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2})}</span>\n                            </div>\n                            \n                            <div className={`pnl-indicator ${gainLoss >= 0 ? 'positive' : 'negative'}`}>\n                                {gainLoss >= 0 ? <TrendingUp size={24} /> : <TrendingDown size={24} />}\n                                <span className=\"pnl-amount\">\n                                    {gainLoss >= 0 ? '+' : ''}\n                                    ${Math.abs(gainLoss).toFixed(2)}\n                                </span>\n                                <span className=\"pnl-percent\">\n                                    ({gainLossPercent.toFixed(2)}%)\n                                </span>\n                            </div>\n\n                            {/* Overall Graph Placeholder (or use mock data for \"Overall\" if history not tracked) */}\n                            <div className=\"portfolio-graph\">\n                                <ResponsiveContainer width=\"100%\" height={200}>\n                                    <LineChart data={[\n                                        { name: 'Start', value: totalCost },\n                                        { name: 'Now', value: totalValue }\n                                    ]}>\n                                        <CartesianGrid strokeDasharray=\"3 3\" />\n                                        <XAxis dataKey=\"name\" />\n                                        <YAxis />\n                                        <Tooltip />\n                                        <Line type=\"monotone\" dataKey=\"value\" stroke=\"#8884d8\" strokeWidth={2} />\n                                    </LineChart>\n                                </ResponsiveContainer>\n                            </div>\n                        </div>\n\n                        {/* Holdings List */}\n                        <div className=\"holdings-section\">\n                            <h3>Your Holdings</h3>\n                            <div className=\"holdings-grid\">\n                                {portfolioData?.holdings?.map((stock) => (\n                                    <div key={stock.ticker} className={`holding-card ${selectedStock === stock.ticker ? 'selected' : ''}`}>\n                                        <div className=\"holding-header\" onClick={() => selectStock(stock.ticker)}>\n                                            <div className=\"ticker-info\">\n                                                <h4>{stock.ticker}</h4>\n                                                <span className=\"shares\">{stock.quantity} shares</span>\n                                            </div>\n                                            <div className=\"price-info\">\n                                                <div className=\"current-val\">${formatMoney(stock.market_value)}</div>\n                                                <div className={`stock-pnl ${stock.gain_loss >= 0 ? 'green' : 'red'}`}>\n                                                    {stock.gain_loss >= 0 ? '+' : ''}{formatMoney(stock.gain_loss)} ({formatPercent(stock.gain_loss_percent)}%)\n                                                </div>\n                                            </div>\n                                        </div>\n\n                                        {/* Expanded View */}\n                                        {selectedStock === stock.ticker && (\n                                            <div className=\"holding-details\">\n                                                <div className=\"mini-graph\">\n                                                    <ResponsiveContainer width=\"100%\" height={100}>\n                                                        <LineChart data={stockHistory}>\n                                                            <Line type=\"monotone\" dataKey=\"value\" stroke=\"#82ca9d\" dot={false} />\n                                                        </LineChart>\n                                                    </ResponsiveContainer>\n                                                </div>\n                                                <div className=\"holding-actions\">\n                                                    <button className=\"btn-buy\" onClick={() => openTransactionModal(stock.ticker, \"buy\")}>\n                                                        <Plus size={16} /> Buy More\n                                                    </button>\n                                                    <button className=\"btn-sell\" onClick={() => openTransactionModal(stock.ticker, \"sell\")}>\n                                                        <Minus size={16} /> Sell\n                                                    </button>\n                                                </div>\n                                            </div>\n                                        )}\n                                    </div>\n                                ))}\n                                {portfolioData?.holdings?.length === 0 && (\n                                    <div className=\"empty-portfolio\">\n                                        <p>You don't own any stocks yet. Search above to get started!</p>\n                                    </div>\n                                )}\n                            </div>\n                        </div>\n                    </>\n                )}\n\n                {/* Search History Page (placeholder) */}\n                {activePage === \"history\" && (\n                    <div className=\"placeholder-card\">\n                        <h2>Search History</h2>\n                        <p>Your recent ticker lookups will appear here.</p>\n                    </div>\n                )}\n\n                {/* Watchlist Page (placeholder) */}\n                {activePage === \"watchlist\" && (\n                    <div className=\"placeholder-card\">\n                        <h2>Watchlist</h2>\n                        <p>Add tickers you want to keep an eye on.</p>\n                    </div>\n                )}\n            </div>\n\n            {/* Transaction Modal */}\n            {showModal && (\n                <div className=\"modal-overlay\">\n                    <div className=\"modal-content\">\n                        <h3>{transactionType === 'buy' ? 'Buy' : 'Sell'} {transactionTicker}</h3>\n                        \n                        {error && <p className=\"error-text\">{error}</p>}\n                        \n                        <div className=\"form-group\">\n                            <label>Quantity</label>\n                            <input \n                                type=\"number\" \n                                min=\"1\"\n                                value={transactionQuantity}\n                                onChange={(e) => setTransactionQuantity(e.target.value)}\n                            />\n                        </div>\n                        \n                        <div className=\"form-group\">\n                            <label>Price per Share ($)</label>\n                            <input \n                                type=\"number\" \n                                step=\"0.01\"\n                                value={transactionPrice}\n                                onChange={(e) => setTransactionPrice(e.target.value)}\n                            />\n                        </div>\n\n                        <div className=\"modal-actions\">\n                            <button className=\"cancel-btn\" onClick={() => setShowModal(false)}>Cancel</button>\n                            <button className={`confirm-btn ${transactionType}`} onClick={handleTransaction}>\n                                Confirm {transactionType === 'buy' ? 'Purchase' : 'Sale'}\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n}\n\nexport default Dashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}