{"ast":null,"code":"// App.js\nimport React,{useEffect,useState}from\"react\";import{BrowserRouter as Router,Routes,Route,Link,useLocation}from\"react-router-dom\";import Home from\"./pages/Home/home\";import Login from\"./pages/Login/login\";import Dashboard from\"./pages/Dashboard/dashboard\";import Signup from\"./pages/Login/signup\";import Sidebar from\"./components/sidebar\";import\"./index.css\";import{useNavigate}from\"react-router-dom\";import{Menu}from\"lucide-react\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function AppContent(){const location=useLocation();const[isLoggedIn,setIsLoggedIn]=useState(false);const[username,setUsername]=useState(\"\");const[sidebarOpen,setSidebarOpen]=useState(false);const navigate=useNavigate();// Restore auth state on page load so refreshes keep the user logged in\nuseEffect(()=>{const storedToken=localStorage.getItem(\"token\");const storedUser=localStorage.getItem(\"username\");if(storedToken&&storedUser){setIsLoggedIn(true);setUsername(storedUser);}},[]);const toggleSidebar=()=>{setSidebarOpen(!sidebarOpen);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"header\",{className:\"app-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo-area\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",id:\"homePageLogo\",children:\"Quantify\"})}),location.pathname===\"/\"&&!isLoggedIn&&/*#__PURE__*/_jsx(\"div\",{className:\"auth-area\",children:/*#__PURE__*/_jsx(Link,{to:\"/login\",id:\"login\",children:\"Login/Signup\"})}),isLoggedIn&&/*#__PURE__*/_jsx(\"div\",{className:\"menu-area\",children:/*#__PURE__*/_jsx(\"button\",{className:\"hamburger-button\",onClick:toggleSidebar,\"aria-label\":\"Open menu\",children:/*#__PURE__*/_jsx(Menu,{size:24})})})]}),/*#__PURE__*/_jsx(Sidebar,{isOpen:sidebarOpen,onClose:()=>setSidebarOpen(false),username:username,onLogout:()=>{setIsLoggedIn(false);setUsername(\"\");setSidebarOpen(false);localStorage.removeItem(\"token\");localStorage.removeItem(\"username\");navigate(\"/\");}}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{onLogin:user=>{setIsLoggedIn(true);setUsername(user);}})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:/*#__PURE__*/_jsx(Signup,{})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:/*#__PURE__*/_jsx(Dashboard,{username:username})})]})]});}function App(){return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(AppContent,{})});}export default App;","map":{"version":3,"names":["React","useEffect","useState","BrowserRouter","Router","Routes","Route","Link","useLocation","Home","Login","Dashboard","Signup","Sidebar","useNavigate","Menu","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AppContent","location","isLoggedIn","setIsLoggedIn","username","setUsername","sidebarOpen","setSidebarOpen","navigate","storedToken","localStorage","getItem","storedUser","toggleSidebar","children","className","to","id","pathname","onClick","size","isOpen","onClose","onLogout","removeItem","path","element","onLogin","user","App"],"sources":["/Users/adigyawali/Documents/Projects/StocksApp/client/src/App.js"],"sourcesContent":["// App.js\nimport React, { useEffect, useState } from \"react\";\nimport { BrowserRouter as Router, Routes, Route, Link, useLocation } from \"react-router-dom\";\nimport Home from \"./pages/Home/home\";\nimport Login from \"./pages/Login/login\";\nimport Dashboard from \"./pages/Dashboard/dashboard\";\nimport Signup from \"./pages/Login/signup\";\nimport Sidebar from \"./components/sidebar\";\nimport \"./index.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Menu } from \"lucide-react\"; \n\nfunction AppContent() {\n    const location = useLocation();\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\n    const [username, setUsername] = useState(\"\");\n    const [sidebarOpen, setSidebarOpen] = useState(false);\n    const navigate = useNavigate()\n    // Restore auth state on page load so refreshes keep the user logged in\n    useEffect(() => {\n        const storedToken = localStorage.getItem(\"token\");\n        const storedUser = localStorage.getItem(\"username\");\n\n        if (storedToken && storedUser) {\n            setIsLoggedIn(true);\n            setUsername(storedUser);\n        }\n    }, []);\n\n    const toggleSidebar = () => {\n        setSidebarOpen(!sidebarOpen);\n    };\n\n    return (\n        <>\n            <header className=\"app-header\">\n                <div className=\"logo-area\">\n                    <Link to=\"/\" id=\"homePageLogo\">Quantify</Link>\n                </div>\n\n                {/* Show Login/Signup only when not logged in and on home page */}\n                {location.pathname === \"/\" && !isLoggedIn && (\n                    <div className=\"auth-area\">\n                        <Link to=\"/login\" id=\"login\">Login/Signup</Link>\n                    </div>\n                )}\n\n                {/* Show hamburger menu when logged in */}\n                {isLoggedIn && (\n                    <div className=\"menu-area\">\n                        <button \n                            className=\"hamburger-button\" \n                            onClick={toggleSidebar}\n                            aria-label=\"Open menu\"\n                        >\n                            <Menu size={24} />\n                        </button>\n                    </div>\n                )}\n            </header>\n\n            {/* Sidebar */}\n            <Sidebar \n                isOpen={sidebarOpen} \n                onClose={() => setSidebarOpen(false)}\n                username={username}\n                onLogout={() => {\n                    setIsLoggedIn(false);\n                    setUsername(\"\");\n                    setSidebarOpen(false);\n                    localStorage.removeItem(\"token\");\n                    localStorage.removeItem(\"username\");\n                    navigate(\"/\")\n                }}\n            />\n\n            <Routes>\n                <Route path=\"/\" element={<Home />} />\n                <Route \n                    path=\"/login\" \n                    element={\n                        <Login \n                            onLogin={(user) => {\n                                setIsLoggedIn(true);\n                                setUsername(user);\n                            }} \n                        />\n                    } \n                />\n                <Route path=\"/signup\" element={<Signup />} />\n                <Route \n                    path=\"/dashboard\" \n                    element={\n                        <Dashboard \n                            username={username}\n                        />\n                    } \n                />\n            </Routes>\n        </>\n    );\n}\n\nfunction App() {\n    return (\n        <Router>\n            <AppContent />\n        </Router>\n    );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}